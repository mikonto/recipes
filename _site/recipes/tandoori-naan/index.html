<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tandoori Naan | My Recipe Collection</title>
    <link rel="stylesheet" href="/recipes/css/style.css">
</head>
<body>
    <header class="site-header">
        <nav class="nav">
            <a href="/recipes/" class="nav-logo">Recipes</a>
            <div class="nav-right">
                
                <button class="screen-toggle-btn" id="screenToggle" aria-label="Keep screen on" title="Keep screen on">
                    <svg class="screen-icon screen-off" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye closed (screen sleep) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z" opacity="0.3"/>
                        <path d="M2 2L22 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="screen-icon screen-on" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye open (screen awake) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z"/>
                        <circle cx="12" cy="12" r="3" fill="white"/>
                    </svg>
                </button>
                
                <button class="menu-toggle" id="menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="nav-links" id="nav-links">
                <a href="/recipes/">All Recipes</a>
                <a href="/recipes/shopping-list" class="shopping-list-link">
                    Shopping List
                    <span class="shopping-count" id="shopping-count"></span>
                </a>
                
                <button class="screen-toggle-btn desktop-only" id="screenToggleDesktop" aria-label="Keep screen on" title="Keep screen on">
                    <svg class="screen-icon screen-off" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye closed (screen sleep) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z" opacity="0.3"/>
                        <path d="M2 2L22 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="screen-icon screen-on" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye open (screen awake) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z"/>
                        <circle cx="12" cy="12" r="3" fill="white"/>
                    </svg>
                </button>
                
            </div>
        </nav>
    </header>

    <main class="main-content">
        <article class="recipe">
    <header class="recipe-header">
        <h1 class="recipe-title">Tandoori Naan</h1>
        

        <div class="recipe-meta">
            
                <span class="meta-item">
                    <strong>Prep:</strong> 15 min
                </span>
            
            
                <span class="meta-item">
                    <strong>Cook:</strong> 20 min
                </span>
            
            
                <span class="meta-item">
                    <strong>Servings:</strong> 4-6
                </span>
            
        </div>

        
        <div class="recipe-tags">
            
                
            
                
                    <a href="/tags/indian/" class="tag">indian</a>
                
            
                
                    <a href="/tags/bread/" class="tag">bread</a>
                
            
                
                    <a href="/tags/vegetarian/" class="tag">vegetarian</a>
                
            
        </div>
        

    </header>

    <div class="recipe-content">
        <section class="ingredients">
            <h2>Ingredients</h2>
            
                
                    
                        <h3 class="ingredient-section-title">For the Dough</h3>
                    
                    <ul class="ingredient-list">
                        
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-1">
                                <label for="ing-1-1">1 tsp active dry yeast</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 tsp active dry yeast')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-2">
                                <label for="ing-1-2">1 tsp sugar</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 tsp sugar')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-3">
                                <label for="ing-1-3">1/4 tsp salt</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/4 tsp salt')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-4">
                                <label for="ing-1-4">60ml lukewarm water</label>
                                <button class="add-to-list" onclick="addToShoppingList('60ml lukewarm water')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-5">
                                <label for="ing-1-5">190g plain flour</label>
                                <button class="add-to-list" onclick="addToShoppingList('190g plain flour')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-6">
                                <label for="ing-1-6">60ml yogurt</label>
                                <button class="add-to-list" onclick="addToShoppingList('60ml yogurt')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-7">
                                <label for="ing-1-7">1 tbsp vegetable oil</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 tbsp vegetable oil')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-8">
                                <label for="ing-1-8">Extra oil for greasing</label>
                                <button class="add-to-list" onclick="addToShoppingList('Extra oil for greasing')" title="Add to shopping list">+</button>
                            </li>
                        
                    </ul>
                
                    
                        <h3 class="ingredient-section-title">For Serving</h3>
                    
                    <ul class="ingredient-list">
                        
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-1">
                                <label for="ing-2-1">Butter for brushing</label>
                                <button class="add-to-list" onclick="addToShoppingList('Butter for brushing')" title="Add to shopping list">+</button>
                            </li>
                        
                    </ul>
                
            
        </section>

        
        <section class="instructions">
            <h2>Instructions</h2>
            
                
                    <h3 class="instruction-section-title">Prepare the Dough</h3>
                
                <ol class="instruction-list" >
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Activate yeast: Add yeast (1 tsp), sugar (1 tsp) and salt (1/4 tsp) in a bowl. Add lukewarm water (60ml) and mix all ingredients together. Rest aside for 5 minutes until foamy.">Activate yeast: Add yeast (1 tsp), sugar (1 tsp) and salt (1/4 tsp) in a bowl. Add lukewarm water (60ml) and mix all ingredients together. Rest aside for 5 minutes until foamy.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Make dough: In a separate bowl, add flour (190g), yogurt (60ml) and oil (1 tbsp). Add the yeast mixture and mix all ingredients together.">Make dough: In a separate bowl, add flour (190g), yogurt (60ml) and oil (1 tbsp). Add the yeast mixture and mix all ingredients together.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Knead into a smooth dough for about 5-7 minutes. Grease the dough top with oil and rest for 1 hour under a damp towel.">Knead into a smooth dough for about 5-7 minutes. Grease the dough top with oil and rest for 1 hour under a damp towel.</span>
                        </li>
                    
                </ol>
            
                
                    <h3 class="instruction-section-title">Shape and Cook</h3>
                
                <ol class="instruction-list" start="4">
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="After resting, knead dough briefly and divide into 4-6 equal portions.">After resting, knead dough briefly and divide into 4-6 equal portions.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Roll out each portion into an oval shape, approximately 5-7mm thick.">Roll out each portion into an oval shape, approximately 5-7mm thick.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Heat a pan on medium heat until hot.">Heat a pan on medium heat until hot.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Apply a thin layer of water all over one side of the naan.">Apply a thin layer of water all over one side of the naan.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Place the water-side down on the hot pan - it should stick immediately.">Place the water-side down on the hot pan - it should stick immediately.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Once bubbles form on top of the naan (about 1-2 minutes), carefully flip the entire pan upside down over the stove flame.">Once bubbles form on top of the naan (about 1-2 minutes), carefully flip the entire pan upside down over the stove flame.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Cook until charred spots appear on the naan (about 1-2 minutes).">Cook until charred spots appear on the naan (about 1-2 minutes).</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Remove from heat, carefully peel the naan off the pan, brush with butter and serve hot.">Remove from heat, carefully peel the naan off the pan, brush with butter and serve hot.</span>
                        </li>
                    
                </ol>
            
        </section>
        

        
        <section class="notes">
            <h2>Notes</h2>
            <div class="notes-content"><p>The water application is crucial for the naan to stick to the pan during the flipping technique. If you don't have a gas stove for the flipping method, you can cook both sides in the pan or use a grill/oven broiler for the charred effect. Keep cooked naan wrapped in a kitchen towel to maintain warmth and softness. The dough can be prepared ahead and refrigerated overnight after the first rise.</p>
</div>
        </section>
        
    </div>

    <nav class="recipe-nav">
        <a href="/recipes/" class="btn btn-back">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Back to all recipes
        </a>
    </nav>
</article>

<script>
// Wake Lock API to keep screen on
let wakeLock = null;

async function requestWakeLock() {
    try {
        if ('wakeLock' in navigator) {
            wakeLock = await navigator.wakeLock.request('screen');
            console.log('Screen wake lock active');

            // Re-acquire lock if page becomes visible again
            document.addEventListener('visibilitychange', async () => {
                if (wakeLock !== null && document.visibilityState === 'visible') {
                    wakeLock = await navigator.wakeLock.request('screen');
                }
            });
        } else {
            console.log('Wake Lock API not supported');
            // Hide toggle if not supported
            const btn = document.getElementById('screenToggle');
            if (btn) btn.style.display = 'none';
        }
    } catch (err) {
        console.error(`Wake lock error: ${err.message}`);
    }
}

async function releaseWakeLock() {
    if (wakeLock !== null) {
        await wakeLock.release();
        wakeLock = null;
        console.log('Screen wake lock released');
    }
}

// Handle toggle buttons (both mobile and desktop)
function setupScreenToggle(buttonId) {
    const button = document.getElementById(buttonId);
    if (button) {
        // Check if Wake Lock API is supported
        if (!('wakeLock' in navigator)) {
            button.style.display = 'none';
            return;
        }

        button.addEventListener('click', async () => {
            const allButtons = document.querySelectorAll('.screen-toggle-btn');

            if (!button.classList.contains('active')) {
                await requestWakeLock();
                allButtons.forEach(btn => {
                    btn.classList.add('active');
                    btn.setAttribute('title', 'Turn off keep screen on');
                });
            } else {
                await releaseWakeLock();
                allButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('title', 'Keep screen on');
                });
            }
        });
    }
}

// Setup both buttons
setupScreenToggle('screenToggle');
setupScreenToggle('screenToggleDesktop');

// Shopping list functionality for individual ingredients
function addToShoppingList(ingredient) {
    const recipeName = "Tandoori Naan";

    // Get existing list
    const list = JSON.parse(localStorage.getItem('shoppingList') || '{}');

    // Create unique key
    const key = `${recipeName}-${ingredient}`;

    // Get the button that was clicked
    const btn = event.target;

    if (list[key]) {
        // Already in list - show feedback
        btn.textContent = '✓';
        btn.classList.add('added');
        setTimeout(() => {
            btn.textContent = '+';
            btn.classList.remove('added');
        }, 1500);
    } else {
        // Add to list
        list[key] = {
            recipe: recipeName,
            ingredient: ingredient,
            checked: false
        };

        // Save updated list
        localStorage.setItem('shoppingList', JSON.stringify(list));

        // Show success feedback
        btn.textContent = '✓';
        btn.classList.add('added');

        setTimeout(() => {
            btn.textContent = '+';
            btn.classList.remove('added');
        }, 1500);

        // Update the count in navigation
        updateShoppingCount();
    }
}
</script>
    </main>

    <footer class="site-footer">
        <p>&copy; 2025 My Recipe Collection</p>
    </footer>

    <script>
    // Hamburger menu toggle
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('nav-links');

        if (menuToggle) {
            menuToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });

            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!menuToggle.contains(event.target) && !navLinks.contains(event.target)) {
                    navLinks.classList.remove('active');
                }
            });

            // Close menu when clicking a link
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
        }
    });

    // Update shopping list count in navigation
    function updateShoppingCount() {
        const list = JSON.parse(localStorage.getItem('shoppingList') || '{}');
        const count = Object.keys(list).length;
        const countElement = document.getElementById('shopping-count');

        if (countElement) {
            if (count > 0) {
                countElement.textContent = count;
                countElement.style.display = 'inline-flex';
            } else {
                countElement.style.display = 'none';
            }
        }
    }

    // Update count on page load
    document.addEventListener('DOMContentLoaded', updateShoppingCount);

    // Listen for storage changes (updates from other tabs)
    window.addEventListener('storage', (e) => {
        if (e.key === 'shoppingList') {
            updateShoppingCount();
        }
    });
    </script>
</body>
</html>