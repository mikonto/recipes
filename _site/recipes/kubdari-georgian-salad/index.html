<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubdari with Georgian Tomato &amp; Cucumber Salad | My Recipe Collection</title>
    <link rel="stylesheet" href="/recipes/css/style.css">
</head>
<body>
    <header class="site-header">
        <nav class="nav">
            <a href="/recipes/" class="nav-logo">Recipes</a>
            <div class="nav-right">
                
                <button class="screen-toggle-btn" id="screenToggle" aria-label="Keep screen on" title="Keep screen on">
                    <svg class="screen-icon screen-off" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye closed (screen sleep) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z" opacity="0.3"/>
                        <path d="M2 2L22 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="screen-icon screen-on" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye open (screen awake) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z"/>
                        <circle cx="12" cy="12" r="3" fill="white"/>
                    </svg>
                </button>
                
                <button class="menu-toggle" id="menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="nav-links" id="nav-links">
                <a href="/recipes/">All Recipes</a>
                <a href="/recipes/shopping-list" class="shopping-list-link">
                    Shopping List
                    <span class="shopping-count" id="shopping-count"></span>
                </a>
                
                <button class="screen-toggle-btn desktop-only" id="screenToggleDesktop" aria-label="Keep screen on" title="Keep screen on">
                    <svg class="screen-icon screen-off" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye closed (screen sleep) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z" opacity="0.3"/>
                        <path d="M2 2L22 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="screen-icon screen-on" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Eye open (screen awake) -->
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5z"/>
                        <circle cx="12" cy="12" r="3" fill="white"/>
                    </svg>
                </button>
                
            </div>
        </nav>
    </header>

    <main class="main-content">
        <article class="recipe">
    <header class="recipe-header">
        <h1 class="recipe-title">Kubdari with Georgian Tomato &amp; Cucumber Salad</h1>
        

        <div class="recipe-meta">
            
                <span class="meta-item">
                    <strong>Prep:</strong> 30 min
                </span>
            
            
                <span class="meta-item">
                    <strong>Cook:</strong> 20 min
                </span>
            
            
                <span class="meta-item">
                    <strong>Servings:</strong> 2-3
                </span>
            
        </div>

        
        <div class="recipe-tags">
            
                
            
                
                    <a href="/tags/georgian/" class="tag">georgian</a>
                
            
                
                    <a href="/tags/dinner/" class="tag">dinner</a>
                
            
                
                    <a href="/tags/bread/" class="tag">bread</a>
                
            
        </div>
        

    </header>

    <div class="recipe-content">
        <section class="ingredients">
            <h2>Ingredients</h2>
            
                
                    
                        <h3 class="ingredient-section-title">For the Kubdari Dough</h3>
                    
                    <ul class="ingredient-list">
                        
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-1">
                                <label for="ing-1-1">250g plain flour</label>
                                <button class="add-to-list" onclick="addToShoppingList('250g plain flour')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-2">
                                <label for="ing-1-2">1/2 teaspoon salt</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/2 teaspoon salt')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-3">
                                <label for="ing-1-3">1/2 teaspoon sugar</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/2 teaspoon sugar')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-4">
                                <label for="ing-1-4">1/2 teaspoon instant yeast</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/2 teaspoon instant yeast')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-5">
                                <label for="ing-1-5">25g butter, melted</label>
                                <button class="add-to-list" onclick="addToShoppingList('25g butter, melted')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-6">
                                <label for="ing-1-6">150ml warm water</label>
                                <button class="add-to-list" onclick="addToShoppingList('150ml warm water')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-1-7">
                                <label for="ing-1-7">1 1/2 tablespoons sunflower oil</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 1/2 tablespoons sunflower oil')" title="Add to shopping list">+</button>
                            </li>
                        
                    </ul>
                
                    
                        <h3 class="ingredient-section-title">For the Kubdari Filling</h3>
                    
                    <ul class="ingredient-list">
                        
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-1">
                                <label for="ing-2-1">350g beef, minced</label>
                                <button class="add-to-list" onclick="addToShoppingList('350g beef, minced')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-2">
                                <label for="ing-2-2">1 1/2-2 cloves garlic, minced</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 1/2-2 cloves garlic, minced')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-3">
                                <label for="ing-2-3">1 medium onion, finely chopped</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 medium onion, finely chopped')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-4">
                                <label for="ing-2-4">1/2 teaspoon ground cumin (dzira)</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/2 teaspoon ground cumin (dzira)')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-5">
                                <label for="ing-2-5">1/4 teaspoon hot pepper/cayenne</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/4 teaspoon hot pepper/cayenne')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-6">
                                <label for="ing-2-6">1/2 teaspoon dried garlic powder</label>
                                <button class="add-to-list" onclick="addToShoppingList('1/2 teaspoon dried garlic powder')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-7">
                                <label for="ing-2-7">Salt to taste</label>
                                <button class="add-to-list" onclick="addToShoppingList('Salt to taste')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-2-8">
                                <label for="ing-2-8">Extra butter for brushing</label>
                                <button class="add-to-list" onclick="addToShoppingList('Extra butter for brushing')" title="Add to shopping list">+</button>
                            </li>
                        
                    </ul>
                
                    
                        <h3 class="ingredient-section-title">For the Georgian Salad</h3>
                    
                    <ul class="ingredient-list">
                        
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-1">
                                <label for="ing-3-1">3-4 ripe tomatoes</label>
                                <button class="add-to-list" onclick="addToShoppingList('3-4 ripe tomatoes')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-2">
                                <label for="ing-3-2">2-3 cucumbers</label>
                                <button class="add-to-list" onclick="addToShoppingList('2-3 cucumbers')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-3">
                                <label for="ing-3-3">1 small red onion</label>
                                <button class="add-to-list" onclick="addToShoppingList('1 small red onion')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-4">
                                <label for="ing-3-4">50-70g walnuts</label>
                                <button class="add-to-list" onclick="addToShoppingList('50-70g walnuts')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-5">
                                <label for="ing-3-5">1-2 cloves garlic</label>
                                <button class="add-to-list" onclick="addToShoppingList('1-2 cloves garlic')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-6">
                                <label for="ing-3-6">1-2 tablespoons red wine vinegar or lemon juice</label>
                                <button class="add-to-list" onclick="addToShoppingList('1-2 tablespoons red wine vinegar or lemon juice')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-7">
                                <label for="ing-3-7">2-3 tablespoons sunflower oil</label>
                                <button class="add-to-list" onclick="addToShoppingList('2-3 tablespoons sunflower oil')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-8">
                                <label for="ing-3-8">Handful of fresh herbs (coriander, parsley, and/or tarragon)</label>
                                <button class="add-to-list" onclick="addToShoppingList('Handful of fresh herbs (coriander, parsley, and/or tarragon)')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-9">
                                <label for="ing-3-9">Salt and black pepper to taste</label>
                                <button class="add-to-list" onclick="addToShoppingList('Salt and black pepper to taste')" title="Add to shopping list">+</button>
                            </li>
                        
                            <li class="ingredient-item">
                                <input type="checkbox" id="ing-3-10">
                                <label for="ing-3-10">[object Object]</label>
                                <button class="add-to-list" onclick="addToShoppingList('[object Object]')" title="Add to shopping list">+</button>
                            </li>
                        
                    </ul>
                
            
        </section>

        
        <section class="instructions">
            <h2>Instructions</h2>
            
                
                    <h3 class="instruction-section-title">Make the Kubdari</h3>
                
                <ol class="instruction-list" >
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="In a large bowl, combine flour (250g), salt (1/2 tsp), sugar (1/2 tsp), and yeast (1/2 tsp). Mix well.">In a large bowl, combine flour (250g), salt (1/2 tsp), sugar (1/2 tsp), and yeast (1/2 tsp). Mix well.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Add melted butter (25g), warm water (150ml), and sunflower oil (1 1/2 tbsp) to the dry ingredients. Mix and knead for 8-10 minutes until smooth and elastic. Cover and let rise for 1 hour until doubled in size.">Add melted butter (25g), warm water (150ml), and sunflower oil (1 1/2 tbsp) to the dry ingredients. Mix and knead for 8-10 minutes until smooth and elastic. Cover and let rise for 1 hour until doubled in size.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Meanwhile, prepare the filling by combining minced beef (350g), minced garlic (1 1/2-2 cloves), chopped onion (1 head), salt (to taste), ground cumin (1/2 tsp), hot pepper (1/4 tsp), and dried garlic powder (1/2 tsp). Mix thoroughly with your hands until well combined.">Meanwhile, prepare the filling by combining minced beef (350g), minced garlic (1 1/2-2 cloves), chopped onion (1 head), salt (to taste), ground cumin (1/2 tsp), hot pepper (1/4 tsp), and dried garlic powder (1/2 tsp). Mix thoroughly with your hands until well combined.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Divide the risen dough into 2 equal portions. Roll each portion into a circle about 20cm in diameter.">Divide the risen dough into 2 equal portions. Roll each portion into a circle about 20cm in diameter.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Place half the meat filling in the center of each dough circle. Gather the edges of the dough towards the center and pinch tightly to seal, creating a pouch.">Place half the meat filling in the center of each dough circle. Gather the edges of the dough towards the center and pinch tightly to seal, creating a pouch.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Gently flatten each sealed pouch with your palm, then carefully roll out to about 15cm diameter, being careful not to tear the dough.">Gently flatten each sealed pouch with your palm, then carefully roll out to about 15cm diameter, being careful not to tear the dough.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Heat a dry frying pan over medium heat. Cook each kubdari for 4-5 minutes per side until golden brown and the meat is cooked through.">Heat a dry frying pan over medium heat. Cook each kubdari for 4-5 minutes per side until golden brown and the meat is cooked through.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Brush with butter while still hot and serve immediately.">Brush with butter while still hot and serve immediately.</span>
                        </li>
                    
                </ol>
            
                
                    <h3 class="instruction-section-title">Prepare the Georgian Salad</h3>
                
                <ol class="instruction-list" start="9">
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Cut tomatoes (3-4) into chunky pieces, slice or chop cucumbers (2-3), and thinly slice red onion (1 small). Place all vegetables in a serving bowl.">Cut tomatoes (3-4) into chunky pieces, slice or chop cucumbers (2-3), and thinly slice red onion (1 small). Place all vegetables in a serving bowl.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="In a mortar and pestle or food processor, crush walnuts (50-70g) with garlic (1-2 cloves), salt (to taste), and vinegar or lemon juice (1-2 tbsp). Gradually add oil (2-3 tbsp) while crushing until you have a coarse paste.">In a mortar and pestle or food processor, crush walnuts (50-70g) with garlic (1-2 cloves), salt (to taste), and vinegar or lemon juice (1-2 tbsp). Gradually add oil (2-3 tbsp) while crushing until you have a coarse paste.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Pour the walnut dressing over the vegetables and toss until everything is lightly coated.">Pour the walnut dressing over the vegetables and toss until everything is lightly coated.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="Roughly chop the fresh herbs and sprinkle over the top. Season with black pepper and additional salt if needed.">Roughly chop the fresh herbs and sprinkle over the top. Season with black pepper and additional salt if needed.</span>
                        </li>
                    
                        <li class="instruction-item">
                            <span class="instruction-text" data-original="If using, add a pinch of chilli flakes or ground coriander for extra flavor.">If using, add a pinch of chilli flakes or ground coriander for extra flavor.</span>
                        </li>
                    
                </ol>
            
        </section>
        

        
        <section class="notes">
            <h2>Notes</h2>
            <div class="notes-content"><p>The kubdari dough can be made ahead and refrigerated overnight. Bring to room temperature before using.<br>
Traditionally, kubdari uses a mixture of beef and pork, but this recipe uses only beef. You can substitute with lamb or use a combination of meats.<br>
The walnut dressing for the salad can be made smoother or chunkier according to preference.<br>
Toast the walnuts lightly in a dry pan before crushing for a deeper, nuttier flavor in the salad.<br>
Both dishes are best served immediately while the kubdari is still warm.</p>
</div>
        </section>
        
    </div>

    <nav class="recipe-nav">
        <a href="/recipes/" class="btn btn-back">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Back to all recipes
        </a>
    </nav>
</article>

<script>
// Wake Lock API to keep screen on
let wakeLock = null;

async function requestWakeLock() {
    try {
        if ('wakeLock' in navigator) {
            wakeLock = await navigator.wakeLock.request('screen');
            console.log('Screen wake lock active');

            // Re-acquire lock if page becomes visible again
            document.addEventListener('visibilitychange', async () => {
                if (wakeLock !== null && document.visibilityState === 'visible') {
                    wakeLock = await navigator.wakeLock.request('screen');
                }
            });
        } else {
            console.log('Wake Lock API not supported');
            // Hide toggle if not supported
            const btn = document.getElementById('screenToggle');
            if (btn) btn.style.display = 'none';
        }
    } catch (err) {
        console.error(`Wake lock error: ${err.message}`);
    }
}

async function releaseWakeLock() {
    if (wakeLock !== null) {
        await wakeLock.release();
        wakeLock = null;
        console.log('Screen wake lock released');
    }
}

// Handle toggle buttons (both mobile and desktop)
function setupScreenToggle(buttonId) {
    const button = document.getElementById(buttonId);
    if (button) {
        // Check if Wake Lock API is supported
        if (!('wakeLock' in navigator)) {
            button.style.display = 'none';
            return;
        }

        button.addEventListener('click', async () => {
            const allButtons = document.querySelectorAll('.screen-toggle-btn');

            if (!button.classList.contains('active')) {
                await requestWakeLock();
                allButtons.forEach(btn => {
                    btn.classList.add('active');
                    btn.setAttribute('title', 'Turn off keep screen on');
                });
            } else {
                await releaseWakeLock();
                allButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('title', 'Keep screen on');
                });
            }
        });
    }
}

// Setup both buttons
setupScreenToggle('screenToggle');
setupScreenToggle('screenToggleDesktop');

// Shopping list functionality for individual ingredients
function addToShoppingList(ingredient) {
    const recipeName = "Kubdari with Georgian Tomato &amp; Cucumber Salad";

    // Get existing list
    const list = JSON.parse(localStorage.getItem('shoppingList') || '{}');

    // Create unique key
    const key = `${recipeName}-${ingredient}`;

    // Get the button that was clicked
    const btn = event.target;

    if (list[key]) {
        // Already in list - show feedback
        btn.textContent = '✓';
        btn.classList.add('added');
        setTimeout(() => {
            btn.textContent = '+';
            btn.classList.remove('added');
        }, 1500);
    } else {
        // Add to list
        list[key] = {
            recipe: recipeName,
            ingredient: ingredient,
            checked: false
        };

        // Save updated list
        localStorage.setItem('shoppingList', JSON.stringify(list));

        // Show success feedback
        btn.textContent = '✓';
        btn.classList.add('added');

        setTimeout(() => {
            btn.textContent = '+';
            btn.classList.remove('added');
        }, 1500);

        // Update the count in navigation
        updateShoppingCount();
    }
}
</script>
    </main>

    <footer class="site-footer">
        <p>&copy; 2025 My Recipe Collection</p>
    </footer>

    <script>
    // Hamburger menu toggle
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('nav-links');

        if (menuToggle) {
            menuToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });

            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!menuToggle.contains(event.target) && !navLinks.contains(event.target)) {
                    navLinks.classList.remove('active');
                }
            });

            // Close menu when clicking a link
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
        }
    });

    // Update shopping list count in navigation
    function updateShoppingCount() {
        const list = JSON.parse(localStorage.getItem('shoppingList') || '{}');
        const count = Object.keys(list).length;
        const countElement = document.getElementById('shopping-count');

        if (countElement) {
            if (count > 0) {
                countElement.textContent = count;
                countElement.style.display = 'inline-flex';
            } else {
                countElement.style.display = 'none';
            }
        }
    }

    // Update count on page load
    document.addEventListener('DOMContentLoaded', updateShoppingCount);

    // Listen for storage changes (updates from other tabs)
    window.addEventListener('storage', (e) => {
        if (e.key === 'shoppingList') {
            updateShoppingCount();
        }
    });
    </script>
</body>
</html>